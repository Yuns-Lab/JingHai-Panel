var GmAlert=function(){"use strict";function e(e,n){e.addEventListener("animationend",(e=>{n(e.animationName)}))}function n(e,n){e.style.animationName=n}var t="GmA_zBj1",s="GmA_gOvt",o="GmA_2yUU",i="GmA_wPjt",r="GmA_j1--",c="GmA_rgM9",l="GmA_vLuM";function a(...e){const n=document.createElement("div");return n.classList.add(...e),n}const d=()=>{let e=document.querySelector(`.${t}`);return e||(e=a(t,"gmalert-global-vars"),document.body.append(e)),e},m=e=>{switch(e){case 0:return(()=>{let e=document.querySelector(`.${o}`);return e||(e=a(o),d().append(e),e)})();case 1:return(()=>{let e=document.querySelector(`.${s}`);return e||(e=a(s),d().append(e),e)})();case 2:return d()}};function u(e,n){const t=e.style.cssText.split(";");t.pop(),e.style.cssText=`${t.concat(n).join(";")};`}var f={icon:"GmA_-ocR","success-icon":"GmA_M1xK","success-ring":"GmA_ZGOd","rt-rscl":"GmA_M-0L","success-fix":"GmA_ljEo","success-line":"GmA_ukGj","line-tip":"GmA_6T04","anim-slt":"GmA_Cp4a","line-long":"GmA_vHhd","anim-sll":"GmA_VWeI","error-icon":"GmA_cVxX","anim-err":"GmA_mikY","error-ring":"GmA_f20H","anim-err-l":"GmA_ANNS","error-line-left":"GmA_l7yQ","error-line-right":"GmA_orxi","warn-icon":"GmA_xtZI","warn-content":"GmA_eOKB","anim-warn":"GmA_2uVJ","info-icon":"GmA_6kWT","info-content":"GmA_xXmH","loading-icon":"GmA_0IUQ","dense-icon":"GmA_ULz7","success-ring-2":"GmA_wZUB","anim-slt-dense":"GmA_Gruk","anim-sll-dense":"GmA_IRq2","question-content":"GmA_8EBD"},v={"animate-turn":"GmA_HyJt","message-turn":"GmA_ycjU",icon:"GmA_eLUl",close:"GmA_mosy"};const p=['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="12" style="fill:#29abe2"/><path d="M12,17.5a1,1,0,0,1-1-1v-5h-.5a1,1,0,0,1,0-2H12a1,1,0,0,1,1,1v6A1,1,0,0,1,12,17.5Z" style="fill:#fff"/><path d="M14,18.5H10a1,1,0,0,1,0-2h4a1,1,0,0,1,0,2Z" style="fill:#fff"/><circle cx="12" cy="6" r="1.5" style="fill:#fff"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="12" style="fill:#faad14"/><path d="M12,19.5A1.5,1.5,0,1,0,10.5,18,1.5,1.5,0,0,0,12,19.5Z" style="fill:#fff;fill-rule:evenodd"/><path d="M12,14a1.5,1.5,0,0,1-1.5-1.5v-7a1.5,1.5,0,0,1,3,0v7A1.5,1.5,0,0,1,12,14Z" style="fill:#fff"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="12" style="fill:#e06968"/><path d="M16,8,8,16" style="fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M8,8l8,8" style="fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,.5l3.18,2.2h3.93l1.21,3.55,3.18,2.2L22.28,12l1.22,3.55-3.18,2.2L19.11,21.3H15.18L12,23.5,8.82,21.3H4.89L3.68,17.75.5,15.55,1.72,12,.5,8.45l3.18-2.2L4.89,2.7H8.82Z" style="fill:#52c41a;stroke:#52c41a;stroke-linecap:round;stroke-linejoin:round"/><path d="M7.5,12l3,3,6-6" style="fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/></svg>',`<svg class="${v["animate-turn"]}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1,12A11,11,0,0,0,12,23h0A11,11,0,0,0,12,1" style="fill:none;stroke:#1890ff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M18.5,12A6.5,6.5,0,1,0,12,18.5h0" style="fill:none;stroke:#1890ff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/></svg>`,'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.5,1.5l21,21" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:3px"/><path d="M1.5,22.5l21-21" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:3px"/></svg>'];function h(e,n=""){return`<i class="${v.icon} ${n} ${5===e?v.close:""}">${p[e]}</i>`}function A(e=!1,n=""){return`<div class="${f.icon} ${f["success-icon"]} ${e?f["dense-icon"]:""} ${n}"><div class="${f["success-line"]} ${f["line-tip"]}"></div><div class="${f["success-line"]} ${f["line-long"]}"></div><div class="${f["success-ring"]}"></div><div class="${f["success-fix"]}"></div></div>`}const $=["info","warning","error","success","loading","close"];function g(e,n=!1,t){switch(e){case $[3]:return A(n,t);case $[2]:return function(e=!1,n=""){return`<div class="${f.icon} ${f["error-icon"]} ${e?f["dense-icon"]:""} ${n}"><div class="${f["error-ring"]}"><div class="${f["error-line-left"]}"></div><div class="${f["error-line-right"]}"></div></div></div>`}(n,t);case $[1]:return function(e=!1,n=""){return`<div class="${f.icon} ${f["warn-icon"]} ${e?f["dense-icon"]:""} ${n}"><div class="${f["warn-content"]}">!</div></div>`}(n,t);case $[0]:return function(e=!1,n=""){return`<div class="${f.icon} ${f["info-icon"]} ${e?f["dense-icon"]:""} ${n}"><div class="${f["info-content"]}">i</div></div>`}(n,t);case $[4]:return function(e=!1,n=""){const t=h(4);return`<div class="${f.icon} ${f["loading-icon"]} ${e?f["dense-icon"]:""} ${n}">${t}</div>`}(n,t);default:return A(n,t)}}function G(e,n){return h($.indexOf(e||"success"),n)}var w={alert:"GmA_Su0X","alert-show":"GmA_fKZw","alert-icon":"GmA_Wi1d","alert-btn-group":"GmA_uvh-","alert-btn":"GmA_AgfU","alert-content":"GmA_3l0C","alert-title":"GmA_-Wvm","alert-close":"GmA_vIba","alert-hide":"GmA_ZbDx"};function _(e,n){const t=document.createElement("button");return t.textContent=e,t.onclick=n,t.classList.add(w["alert-btn"]),t}var k="GmA_51U1",x="GmA_cUSk",y="GmA_jIgt",M="GmA_0TBs",C="GmA_FYDo",H="GmA_yd8A";const L={info:"#409eff",success:"#67c23a",warning:"#e6a23c",error:"#f56c6c"};var b="GmA_HocB",j="GmA_kbi0",I="GmA_ap8H",T="GmA_9Svp",B="GmA_ca1c";const U={opening:"GmA_6htR",done:"",closing:"GmA_v-7K"};var Z="GmA_xJTn",S="GmA_YXiG",q="GmA_ysok",P="GmA_MvUB",E="GmA_H4b3",W="GmA_M8YU",Y="GmA_vwgY",z="GmA_uI6A";class K{timeout=2500;maxCount=8;activeInsts=new Map;constructor(e){this.form=e,e>1&&(this.timeout=0)}config(e){this.timeout=e.timeout||this.timeout,this.maxCount=e.maxCount||this.maxCount}fire(e,n,t){const s=this.mkMsg(e,n||"success",t);return"loading"!==n&&this.sT(s,t?.timeout||this.timeout),s}sT(e,n){if(!n)return;const{$el:t}=e;let s=e.progress;s??=this.mkP(e,n),s.reset(),t.onmouseenter=s.pause,t.onmouseleave=s.resume}mkP(e,n){const{$el:t}=e,s=a(r),o=a(c);s.append(o),t.append(s),o.ontransitionend=()=>{e.close(-1)};const i=()=>o.clientWidth/s.clientWidth,l=async()=>{u(o,["width:0",`transition:width ${n*i()}ms linear`])};return e.progress={pause:()=>{u(o,["transition:none",`width:${100*i()}%`])},resume:l,reset:()=>{u(o,["width:100%","transition:none"]),l()},get:i}}mkMsg(t,s,o){const r=`${t}${s}`;if(this.form<2&&this.activeInsts.has(r)){const e=this.activeInsts.get(r);return e.count+=1,function(e,t){const s=i;let o=e.querySelector(`.${s}`);o||(o=document.createElement("span"),o.classList.add(s),e.append(o)),o.innerHTML=`${t>99?"99":t}`,n(o,""),setTimeout((()=>{n(o,l)}))}(e.$el,e.count),e}const c={...o,content:t,type:s,onClosed:e=>{this.form<2&&this.activeInsts.delete(r),o?.onClosed&&o.onClosed(e)}};let d;switch(this.form){case 1:d=function(t){const s=g(t.type,!0,P),o=a(Z);return o.innerHTML=`<div class="${S}">${s}  <div class="${q}">${t.content}</div></div>`,e(o,(e=>{e===E&&u(o,["opacity:1",`animation-name:${W}`]),e===Y&&n(o,z)})),{open:()=>{m(1).prepend(o),u(o,[`max-height:${o.offsetHeight+10}px`]),n(o,E)},close:s=>new Promise((i=>{n(o,Y),e(o,(e=>{e===z&&(o.remove(),t.onClosed(s),i())}))})),$el:o}}(c);break;case 2:d=function(t){const s=t.type||"info",o=a(w.alert),i=g(s,!1,w["alert-icon"]);if(o.innerHTML=`${i}<div class="${w["alert-title"]}">${t.content}</div>`,t.text){const e=a(w["alert-content"]);e.textContent=t.text,o.append(e)}const r=m(2),c=s=>(n(o,w["alert-hide"]),new Promise((n=>{e(o,(e=>{e===w["alert-hide"]&&(o.remove(),t.onClosed(s),n())}))})));if(t.showCancel||t.showConfirm){const e=a(w["alert-btn-group"]);t.showCancel&&e.append(_("取消",(()=>{c(0)}))),t.showConfirm&&e.append(_("确定",(()=>{c(1)}))),o.append(e)}if(t.showClose){const e=a();e.innerHTML=G("close",w["alert-close"]),e.onclick=()=>{c(0)},o.append(e)}return{close:c,open:()=>{r.append(o)},$el:o}}(c);break;case 3:d=function(t){const s=L[t.type||"info"]||L.info,o=a(k);o.innerHTML=`<div class="${x}"><div class="${M}" style="background:${s};"></div><span style="margin-right:auto;font-weight:600">${t.headerLeft||"公告"}</span><span style="font-size:.875em;opacity:.7">${t.headerRight||""}</span>${t.showClose?G("close",y):""}</div><div class="${C}">${t.content}</div>`;const i=s=>new Promise((i=>{n(o,H),e(o,(e=>{e===H&&(o.remove(),t.onClosed(s),i())}))}));t.showClose&&(o.querySelector(`.${y}`).onclick=()=>{i(0)});return{open:()=>{m(2).append(o)},close:i,$el:o}}(c);break;default:d=function(t){const s=G(t.type,j),o=a(b),i=a(I);return o.append(i),i.innerHTML=`${s}<div class=${T}>${t.content}</div>`,{open:()=>{m(0).append(o),n(o,U.opening)},close:s=>(i.style.maxHeight=`${i.offsetHeight}px`,n(o,U.closing),n(i,B),new Promise((n=>{e(o,(e=>{e===U.closing&&(o.remove(),t.onClosed(s),n())}))}))),$el:o}}(c)}if(this.form>1||this.activeInsts.size>=this.maxCount){const e=this.activeInsts.values().next().value;e?.close(-2),this.activeInsts.delete(e?.id)}const f={...d,id:r,count:1};return this.activeInsts.set(r,f),d.open(),f}}function N(e){const n=new K(e),t=(e,t,s)=>n.fire(e,t,s);return t.config=n.config.bind(n),t}const O=N(2),R=N(3);return{alert:O,message:N(0),notice:N(1),information:R}}();
